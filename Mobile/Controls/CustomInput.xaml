<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Mobile.Controls.CustomInput"
             x:Name="customInput">
    <VerticalStackLayout Spacing="4">
        <!-- Label -->
        <Label
            Text="{Binding Label, Source={x:Reference customInput}}"
            FontSize="14"
            Margin="0,0,0,4"
            TextColor="#7D4E24" />

        <!-- Input with icon, card style -->
        <Frame
            Padding="0"
            HasShadow="False"
            CornerRadius="8"
            BorderColor="#E8D0B3"
            BackgroundColor="White">
            <Grid ColumnSpacing="0" HeightRequest="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="36" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Icon (optional) -->
                <Image
                    Source="{Binding Icon, Source={x:Reference customInput}}"
                    WidthRequest="20"
                    HeightRequest="20"
                    VerticalOptions="Center"
                    HorizontalOptions="Center"
                    Margin="8,0,4,0"
                    IsVisible="{Binding HasIcon, Source={x:Reference customInput}}"
                    Grid.Column="0" />

                <!-- Entry -->
                <Entry
                    Grid.Column="1"
                    Text="{Binding Text, Source={x:Reference customInput}, Mode=TwoWay}"
                    Placeholder="{Binding Placeholder, Source={x:Reference customInput}}"
                    IsPassword="{Binding IsPassword, Source={x:Reference customInput}}"
                    TextColor="#7D4E24"
                    BackgroundColor="Transparent"
                    FontSize="16"
                    PlaceholderColor="#A67C52"
                    />
            </Grid>
        </Frame>

        <!-- Error -->
        <Label
            Text="{Binding Error, Source={x:Reference customInput}}"
            TextColor="Crimson"
            FontSize="12"
            Margin="4,0,0,0"
            IsVisible="{Binding HasError, Source={x:Reference customInput}}" />
    </VerticalStackLayout>
</ContentView>
